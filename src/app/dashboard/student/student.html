<div class="student-dashboard">
  <!-- Barre de navigation -->
  <app-navbar></app-navbar>

  <!-- Section "Welcome back" -->
  <section class="welcome-section">
    <h2>Bon retour {{userName}} ! Prêt pour votre prochaine leçon ?</h2>
    <div class="course-slider" *ngIf="!loading && inProgressCourses.length > 0">
      <div class="course-card" *ngFor="let course of inProgressCourses" (click)="navigateToCourse(course.id)">
        <div class="course-image-container">
          <img [src]="'https://picsum.photos/300/180?random=' + course.id" [alt]="course.titre" class="course-image" (error)="onImageError($event)">
          <span class="course-category">{{course.category}}</span>
        </div>
        <h3 class="course-title">{{course.titre}}</h3>
        <div class="course-meta">
          <!-- Removed progress badge -->
          <span>Teacher: {{course.teacher_username}}</span>
        </div>
      </div>
    </div>
    <div class="no-courses" *ngIf="!loading && inProgressCourses.length === 0">
      <p>Vous n'avez commencé aucun cours pour le moment. Parcourez nos catégories ci-dessous pour trouver quelque chose d'intéressant !</p>
    </div>
    <div class="loading" *ngIf="loading">
      <p>Chargement de vos cours...</p>
    </div>
  </section>

  <!-- Catégories de cours -->
  <section class="categories-section">
    <h2>Choisissez votre cours préféré parmi les meilleures catégories</h2>
    <div class="category-grid" *ngIf="!categoriesLoading && categories.length > 0">
      <div class="category-card" *ngFor="let category of categories">
        <div class="category-icon">{{getCategoryIcon(category)}}</div>
        <h3 class="category-title">{{category}}</h3>
      <p class="category-desc">{{getCategoryDescription(category)}}</p>
      </div>
    </div>
    <div class="loading" *ngIf="categoriesLoading">
      <p>Chargement des catégories...</p>
    </div>
  </section>

  <app-footer></app-footer>
</div>
